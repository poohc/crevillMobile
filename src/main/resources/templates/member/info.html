<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/defaultCommon(scriptName='/assets/js/crevill/memberInfoScript.js')}">

<th:block layout:fragment="content">
	<div id="appCapsule">
        <div class="section mt-2">
            <div class="profile-head">
                <div class="avatar">
                    <img th:src="@{/assets/img/sample/avatar/avatar1.jpg}" alt="avatar" class="imaged w64 rounded">
                </div>
                <div class="in">
                    <h3 class="name" th:text="${info.name}"></h3>
                    <h5 class="subtext">VIP회원</h5>
                </div>
            </div>
        </div>

        <div class="section full mt-2">
            <div class="profile-stats pl-2 pr-2">
                <a href="#" class="item">
                	<th:block th:if="${#lists.size(voucherList) > 0}">
                		<th:block th:each="list, i : ${voucherList}">
		                	<th:block th:if="${i.index == 0}">
		                    	<strong th:text="${list.ticketName}"></strong>보유바우처
		                    </th:block>
                    	</th:block>
                	</th:block>
                	<th:block th:unless="${#lists.size(voucherList) > 0}">
                		<strong>바우처 없음</strong>보유바우처
                	</th:block>
                </a>
                <a href="#" class="item">
                    <strong th:text="${info.storeName}"></strong>등록매장
                </a>
                <a href="#" class="item">
                    <strong th:text="${#lists.size(visitList)}"></strong>방문횟수
                </a>
            </div>
        </div>

        <div class="section mt-1 mb-2">
            <div class="profile-info">
                <div class=" bio">
                    고객님의 이용현황과 회원정보를 수정할 수 있습니다. ID로 사용중인 휴대폰번호의 변경은 불가하며, 기명 회원의 경우 자녀등록 정보의 수정이 불가합니다.
                </div>
            </div>
        </div>

        <div class="section full">
            <div class="wide-block transparent p-0">
                <ul class="nav nav-tabs lined iconed" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link  active" data-toggle="tab" href="#friends" role="tab">
                            <ion-icon name="people-outline"></ion-icon>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#bookmarks" role="tab">
                            <ion-icon name="bookmark-outline"></ion-icon>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#settings" role="tab">
                            <ion-icon name="settings-outline"></ion-icon>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- tab content -->
        <div class="section full mb-2">
            <div class="tab-content">
                <div class="tab-pane fade show active" id="friends" role="tabpanel">
                    <div class="section full mb-2">
                        <div class="section-title">매장방문이력</div>
                        <div class="wide-block p-0">
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th scope="col">방문일</th>
                                            <th scope="col">방문매장</th>
                                        </tr>
                                    </thead>
                                    <tbody>	
                                    	<th:block th:if="${#lists.size(visitList) > 0}">
	                                    	<tr th:each="list : ${visitList}">
	                                            <th scope="row" th:text="${list.visitDate}"></th>
	                                            <td th:text="${list.storeName}"></td>
	                                        </tr>
                                    	</th:block>
                                        <th:block th:unless="${#lists.size(visitList) > 0}">
                                        	<tr>
                                        		<th scope="row">&nbsp;</th>
                                        		<td>방문이력이 없습니다.</td>
                                        	</tr>
                                        </th:block>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- * friends -->

                <!--  bookmarks -->
                <div class="tab-pane fade" id="bookmarks" role="tabpanel">
                    <ul class="listview image-listview media flush transparent pt-1">
                        <th:block th:if="${#lists.size(voucherList) > 0}">
                        <li th:each="list : ${voucherList}">
                            <a href="" class="item">
                                <div class="imageWrapper">
                                    <img th:src="@{/assets/img/sample/photo/1.jpg}" alt="image" class="imaged w64">
                                </div>
                                <div>
                                    <div th:text="${list.ticketName}">
                                        <div class="text-muted" th:text="${list.grade}"></div>
                                    </div>
                                    <span class="badge badge-primary" th:text="|잔여시간 ${list.timeLeftHour}|"></span>
                                </div>
                            </a>
                        </li>
                        </th:block>
                        <th:block th:unless="${#lists.size(voucherList) > 0}">
                        <li>
                            <a href="" class="item">
                                <div class="imageWrapper">
                                </div>
                                <div>
                                    <div>보유 바우처가 없습니다.</div>
                                </div>
                            </a>
                        </li>
                        </th:block>
                    </ul>
                </div>
                <!-- * bookmarks -->
                <!-- settings -->
                <div class="tab-pane fade" id="settings" role="tabpanel">
                    <ul class="listview image-listview text flush transparent pt-1">
                        <li>
                            <a class="item" th:attr="onclick=|updateMemberInfo('${info.qrCode}')|">
                                <div class="in">
                                    <div>회원정보수정</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="" class="item">
                                <div class="in">
                                    <div>자녀정보</div>
                                    <span class="badge badge-primary">2명</span>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="password_change.html" class="item">
                                <div class="in">
                                    <div>비밀번호수정</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="agree2.html" class="item">
                                <div class="in">
                                    <div>개인정보취급방침</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="agree1.html" class="item">
                                <div class="in">
                                    <div>이용약관</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="item">
                                <div class="in">
                                    <div class="text-danger">가입해지</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</th:block>
</html>